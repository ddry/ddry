// Generated by CoffeeScript 2.4.1
(function() {
  /*
   * Object report methods
   */
  'use strict';
  var Clone;

  Clone = require('../../clone');

  module.exports = {
    containsObjects: function(value) {
      var element, i, len;
      if (!Array.isArray(value)) {
        return false;
      }
      for (i = 0, len = value.length; i < len; i++) {
        element = value[i];
        if (element && typeof element === 'object') {
          return true;
        }
        if (typeof element === 'function') {
          return true;
        }
      }
      return false;
    },
    create: function(object, baseKey = [], report = [], raw = false) {
      var key, value;
      for (key in object) {
        value = object[key];
        if (this.validObject(value)) {
          report = this.create(value, baseKey.concat([key]), report, raw);
        } else {
          report.push(this.reportValue(value, baseKey.concat([key]).join('.'), raw));
        }
      }
      return report;
    },
    extend: function(lo, hi, clone = false) {
      var key, value;
      for (key in hi) {
        value = hi[key];
        lo[key] = value;
      }
      if (!clone) {
        return lo;
      }
      return new Clone(lo);
    },
    format: function(value) {
      var definition;
      if (typeof value === 'function') {
        definition = `${value}`.replace(/ /g, '');
        return definition.replace(/[_]*cov_[^\+]*\+\+;/g, '');
      }
      if (Array.isArray(value)) {
        return value;
      }
      return String(value);
    },
    isObject: function(value) {
      return value && typeof value === 'object';
    },
    reportValue: function(value, key, raw) {
      var _;
      if (!raw) {
        return `${key}: ${this.format(value)}`;
      }
      return _ = {
        [`${key}`]: value
      };
    },
    validObject: function(value) {
      if (!this.isObject(value)) {
        return false;
      }
      if (Array.isArray(value)) {
        if (!this.containsObjects(value)) {
          return false;
        }
      }
      if (!Object.keys(value).length) {
        return false;
      }
      return true;
    }
  };

}).call(this);
